---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "metal_cluster Resource - terraform-provider-metal"
subcategory: ""
description: |-
  Managing Clusters of worker nodes. Required permissions: Cluster *. Can be imported by ID or name.
---

# metal_cluster (Resource)

Managing Clusters of worker nodes. Required permissions: `Cluster *`. Can be imported by ID or name.

## Example Usage

```terraform
resource "metal_cluster" "cluster" {
  name       = "cluster"
  kubernetes = "1.27.8"
  partition  = "eqx-mu4"
  workers = [
    {
      name         = "default"
      machine_type = "n1-medium-x86"
      min_size     = 1
      max_size     = 3
    }
  ]
  maintenance = {
    time_window = {
      begin = {
        hour   = 18
        minute = 30
      }
      duration = 2
    }
  }
}

output "cluster" {
  value = metal_cluster.cluster
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `kubernetes` (String) Only newer versions can be specified. There is no downgrade possibility.
			Please be aware that it is not possible to skip major and minor updates.
			It is only possible to upgrade in order. For example from 1.23.3 to 1.24.0, not to 1.25.0.
- `maintenance` (Attributes) maintenance options (see [below for nested schema](#nestedatt--maintenance))
- `name` (String) This is the name of the cluster that will be used to identify it. It can not be changed afterwards.
- `workers` (Attributes List) Choose the type of server best suited for your cluster. (see [below for nested schema](#nestedatt--workers))

### Optional

- `partition` (String) Partition ID
- `project` (String) Project ID
- `tenant` (String) Tenant ID

### Read-Only

- `created_at` (String) Creation timestamp of the cluster
- `id` (String) ID of the cluster
- `updated_at` (String) Update timestamp of the cluster

<a id="nestedatt--maintenance"></a>
### Nested Schema for `maintenance`

Required:

- `time_window` (Attributes) Set time window for maintenance (see [below for nested schema](#nestedatt--maintenance--time_window))

Read-Only:

- `kubernetes_autoupdate` (Boolean) Whether kubernetes autoupdate is enabled
- `machineimage_autoupdate` (Boolean) Whether machine image autoupdate is enabled

<a id="nestedatt--maintenance--time_window"></a>
### Nested Schema for `maintenance.time_window`

Required:

- `begin` (Attributes) Begin of the maintenance window (see [below for nested schema](#nestedatt--maintenance--time_window--begin))
- `duration` (Number) Set duration of maintenance window. The duration must be defined in hours.

<a id="nestedatt--maintenance--time_window--begin"></a>
### Nested Schema for `maintenance.time_window.begin`

Required:

- `hour` (Number) Hour of the maintenance window
- `minute` (Number) Minute of the maintenance window

Read-Only:

- `time_zone` (String) Timezone of the maintenance window. The timezone will be `UTC` and set automatically




<a id="nestedatt--workers"></a>
### Nested Schema for `workers`

Required:

- `machine_type` (String) The machine type for this worker group
- `max_size` (Number) The maximum count of available nodes with type machinetype for autoscaling
- `min_size` (Number) The minimum count of available nodes with type machinetype
- `name` (String) The group name of the worker nodes

Optional:

- `max_surge` (Number) The maximum count of available nodes which can be updated at once
- `max_unavailable` (Number) The maximum count of nodes which can be unavailable during node updates
